{"version":3,"sources":["script.js"],"names":["Quagga","window","App","_scanner","init","attachListeners","decode","file","decoder","readers","locator","patchSize","fromSource","size","toPromise","then","result","document","querySelector","value","codeResult","code","catch","bind","self","button","fileInput","addEventListener","onClick","e","preventDefault","removeEventListener","click","onChange","target","files","length"],"mappings":"AAAA,IAAIA,MAAM,GAAGC,MAAM,CAACD,MAApB;AACA,IAAIE,GAAG,GAAG;AACNC,EAAAA,QAAQ,EAAE,IADJ;AAENC,EAAAA,IAAI,EAAE,gBAAW;AACb,SAAKC,eAAL;AACH,GAJK;AAKNC,EAAAA,MAAM,EAAE,gBAASC,IAAT,EAAe;AACnBP,IAAAA,MAAM,CACDQ,OADL,CACa;AAACC,MAAAA,OAAO,EAAE,CAAC,YAAD;AAAV,KADb,EAEKC,OAFL,CAEa;AAACC,MAAAA,SAAS,EAAE;AAAZ,KAFb,EAGKC,UAHL,CAGgBL,IAHhB,EAGsB;AAACM,MAAAA,IAAI,EAAE;AAAP,KAHtB,EAIKC,SAJL,GAKKC,IALL,CAKU,UAASC,MAAT,EAAiB;AACnBC,MAAAA,QAAQ,CAACC,aAAT,CAAuB,YAAvB,EAAqCC,KAArC,GAA6CH,MAAM,CAACI,UAAP,CAAkBC,IAA/D;AACH,KAPL,EAQKC,KARL,CAQW,YAAW;AACdL,MAAAA,QAAQ,CAACC,aAAT,CAAuB,YAAvB,EAAqCC,KAArC,GAA6C,WAA7C;AACH,KAVL,EAWKJ,IAXL,CAWU,YAAW;AACb,WAAKV,eAAL;AACH,KAFK,CAEJkB,IAFI,CAEC,IAFD,CAXV;AAcH,GApBK;AAqBNlB,EAAAA,eAAe,EAAE,2BAAW;AACxB,QAAImB,IAAI,GAAG,IAAX;AAAA,QACIC,MAAM,GAAGR,QAAQ,CAACC,aAAT,CAAuB,mCAAvB,CADb;AAAA,QAEIQ,SAAS,GAAGT,QAAQ,CAACC,aAAT,CAAuB,+BAAvB,CAFhB;AAIAO,IAAAA,MAAM,CAACE,gBAAP,CAAwB,OAAxB,EAAiC,SAASC,OAAT,CAAiBC,CAAjB,EAAoB;AACjDA,MAAAA,CAAC,CAACC,cAAF;AACAL,MAAAA,MAAM,CAACM,mBAAP,CAA2B,OAA3B,EAAoCH,OAApC;AACAX,MAAAA,QAAQ,CAACC,aAAT,CAAuB,+BAAvB,EAAwDc,KAAxD;AACH,KAJD;AAMAN,IAAAA,SAAS,CAACC,gBAAV,CAA2B,QAA3B,EAAqC,SAASM,QAAT,CAAkBJ,CAAlB,EAAqB;AACtDA,MAAAA,CAAC,CAACC,cAAF;AACAJ,MAAAA,SAAS,CAACK,mBAAV,CAA8B,QAA9B,EAAwCE,QAAxC;;AACA,UAAIJ,CAAC,CAACK,MAAF,CAASC,KAAT,IAAkBN,CAAC,CAACK,MAAF,CAASC,KAAT,CAAeC,MAArC,EAA6C;AACzCZ,QAAAA,IAAI,CAAClB,MAAL,CAAYuB,CAAC,CAACK,MAAF,CAASC,KAAT,CAAe,CAAf,CAAZ;AACH;AACJ,KAND;AAOH;AAvCK,CAAV;AAyCAjC,GAAG,CAACE,IAAJ","file":"script.75da7f30.js","sourceRoot":"..","sourcesContent":["var Quagga = window.Quagga;\r\nvar App = {\r\n    _scanner: null,\r\n    init: function() {\r\n        this.attachListeners()\r\n    },\r\n    decode: function(file) {\r\n        Quagga\r\n            .decoder({readers: ['ean_reader']})\r\n            .locator({patchSize: 'medium'})\r\n            .fromSource(file, {size: 800})\r\n            .toPromise()\r\n            .then(function(result) {\r\n                document.querySelector('input.isbn').value = result.codeResult.code\r\n            })\r\n            .catch(function() {\r\n                document.querySelector('input.isbn').value = \"Not Found\"\r\n            })\r\n            .then(function() {\r\n                this.attachListeners()\r\n            }.bind(this))\r\n    },\r\n    attachListeners: function() {\r\n        var self = this,\r\n            button = document.querySelector('.input-field input + .button.scan'),\r\n            fileInput = document.querySelector('.input-field input[type=file]')\r\n\r\n        button.addEventListener(\"click\", function onClick(e) {\r\n            e.preventDefault()\r\n            button.removeEventListener(\"click\", onClick)\r\n            document.querySelector('.input-field input[type=file]').click()\r\n        })\r\n\r\n        fileInput.addEventListener(\"change\", function onChange(e) {\r\n            e.preventDefault()\r\n            fileInput.removeEventListener(\"change\", onChange)\r\n            if (e.target.files && e.target.files.length) {\r\n                self.decode(e.target.files[0])\r\n            }\r\n        })\r\n    }\r\n}\r\nApp.init()\r\n"]}